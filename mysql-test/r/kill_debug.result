SET @old_debug= @@session.debug;
Bug#13820776 CRASH IN HANDLER::HA_STATISTIC_INCREMENT IF QUERY IS KILLED
CREATE TABLE g9(a INT) ENGINE=INNODB;
SELECT 1 FROM g9
RIGHT JOIN (SELECT 1 FROM g9) AS d1 ON 1 LEFT JOIN
(SELECT 1 FROM g9) AS d2 ON 1;
1
SET debug= '+d,bug13820776_1';
SELECT 1 FROM g9
RIGHT JOIN (SELECT 1 FROM g9) AS d1 ON 1 LEFT JOIN
(SELECT 1 FROM g9) AS d2 ON 1;
ERROR 70100: Query execution was interrupted
SET debug= '-d,bug13820776_1';
SET debug= '+d,bug13820776_2';
SELECT 1 FROM g9
RIGHT JOIN (SELECT 1 FROM g9) AS d1 ON 1 LEFT JOIN
(SELECT 1 FROM g9) AS d2 ON 1;
ERROR 70100: Query execution was interrupted
SET debug= '-d,bug13820776_2';
DROP TABLE g9;
SET debug= @old_debug;
