# This line and the line below is a temporary line for tests that do not need MyISAM in future, but need to be kept for tests that need it.
--source include/have_myisam.inc

################################################################################
#
# No uncommitted changes should be visible to a REPEATABLE-READ transaction
#
################################################################################

SET autocommit = 0;
START TRANSACTION;

--error 0, ER_LOCK_DEADLOCK, ER_LOCK_WAIT_TIMEOUT
SELECT * FROM t1 WHERE `is_uncommitted` > 0;

COMMIT;
