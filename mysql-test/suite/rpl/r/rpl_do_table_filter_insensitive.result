include/master-slave.inc
[connection master]
CREATE DATABASE mydb;
USE mydb;
CREATE TABLE T1 (a INT) ENGINE= MYISAM;
CREATE TABLE t2 (a INT) ENGINE= MYISAM;
INSERT INTO T1 VALUES (1);
INSERT INTO t2 VALUES (1);
# On master
show binlog events from <binlog_start>;
Log_name	Pos	Event_type	Server_id	End_log_pos	Info
master-bin.000001	#	Ugid	#	#	SET @@SESSION.UGID_NEXT= 'UGID';
master-bin.000001	#	Query	#	#	CREATE DATABASE mydb
master-bin.000001	#	Ugid	#	#	SET @@SESSION.UGID_NEXT= 'UGID';
master-bin.000001	#	Query	#	#	use `mydb`; CREATE TABLE T1 (a INT) ENGINE= MYISAM
master-bin.000001	#	Ugid	#	#	SET @@SESSION.UGID_NEXT= 'UGID';
master-bin.000001	#	Query	#	#	use `mydb`; CREATE TABLE t2 (a INT) ENGINE= MYISAM
master-bin.000001	#	Ugid	#	#	SET @@SESSION.UGID_NEXT= 'UGID';
master-bin.000001	#	Query	#	#	BEGIN
master-bin.000001	#	Query	#	#	use `mydb`; INSERT INTO T1 VALUES (1)
master-bin.000001	#	Query	#	#	COMMIT
master-bin.000001	#	Ugid	#	#	SET @@SESSION.UGID_NEXT= 'UGID';
master-bin.000001	#	Query	#	#	BEGIN
master-bin.000001	#	Query	#	#	use `mydb`; INSERT INTO t2 VALUES (1)
master-bin.000001	#	Query	#	#	COMMIT
# On slave
show binlog events from <binlog_start>;
Log_name	Pos	Event_type	Server_id	End_log_pos	Info
slave-bin.000001	#	Ugid	#	#	SET @@SESSION.UGID_NEXT= 'UGID';
slave-bin.000001	#	Query	#	#	CREATE DATABASE mydb
slave-bin.000001	#	Ugid	#	#	SET @@SESSION.UGID_NEXT= 'UGID';
slave-bin.000001	#	Query	#	#	use `mydb`; CREATE TABLE t2 (a INT) ENGINE= MYISAM
slave-bin.000001	#	Ugid	#	#	SET @@SESSION.UGID_NEXT= 'UGID';
slave-bin.000001	#	Query	#	#	BEGIN
slave-bin.000001	#	Query	#	#	use `mydb`; INSERT INTO t2 VALUES (1)
slave-bin.000001	#	Query	#	#	COMMIT
DROP DATABASE mydb;
Replicate_Do_Table: mydb.T2,mýdb.ţ1
include/rpl_end.inc
