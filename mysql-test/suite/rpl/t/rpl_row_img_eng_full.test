#
# This file contains tests for WL#5096 and bug fixes. 
#

-- source include/rpl_chained_3_hosts.inc
-- source include/have_binlog_format_row.inc

-- connection mysqld_a
-- source include/have_innodb.inc
-- connection mysqld_b
-- source include/have_innodb.inc
-- connection mysqld_c
-- source include/have_innodb.inc
-- connection mysqld_a

#
# WL#5096
#

#
#  Tests for different storage engines on each server, 
#  but same index structure on tables. The tests are conducted
#  using FULL binlog-row-image on all servers.
#

-- let $row_img_set=mysqld_a:FULL:N,mysqld_b:FULL:Y,mysqld_c:FULL:Y
-- source include/rpl_row_img_set.inc

-- let $row_img_test_script= extra/rpl_tests/rpl_row_img.test
-- source include/rpl_row_img_general_loop.inc

#
# BUG#49100
#

-- echo ### Testing with MyISAM storage engine

-- let $engine=MyISAM
-- source extra/rpl_tests/rpl_row_empty_imgs.test

-- echo ### Testing with InnoDB storage engine

-- let $engine=InnoDB
-- source extra/rpl_tests/rpl_row_empty_imgs.test
