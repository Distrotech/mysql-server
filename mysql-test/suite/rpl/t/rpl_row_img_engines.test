#
# This file contains tests for WL#5096 and bug fixes. 
#

-- source include/rpl_chained_3_hosts.inc
-- source include/have_binlog_format_row.inc

-- connection mysqld_a
-- source include/have_innodb.inc
-- connection mysqld_b
-- source include/have_innodb.inc
-- connection mysqld_c
-- source include/have_innodb.inc
-- connection mysqld_a

#
# WL#5096
#
#   Test Description
#   ================
# 
#   WL#5096 Tests.
# 
#   In this file we will run several binlog-row-image
#   related tests that cover:
#
#     1. mixes of same indexes on master and slaves;
#     2. mixes of same binlog-row-image values on master and slaves;
#     3. mixes of engines (can be different on master and slave);
#

-- echo ###################################################################
-- echo ###################################################################
-- echo # engines and binlog-row-image mixes                              #
-- echo ###################################################################
-- echo ###################################################################
-- let $row_img_test_script= extra/rpl_tests/rpl_row_img.test
-- source include/rpl_row_img_general_loop.inc

#
# BUG#49100
#

-- echo ### Testing with MyISAM storage engine

-- let $engine=MyISAM
-- source extra/rpl_tests/rpl_row_empty_imgs.test

-- echo ### Testing with InnoDB storage engine

-- let $engine=InnoDB
-- source extra/rpl_tests/rpl_row_empty_imgs.test
