#
# Test Description
# ================
#  
#   See WL#5096.
#
-- source suite/rpl/include/rpl_chained_3_hosts.inc
-- source include/have_binlog_format_row.inc
-- connection mysqld_a
-- source include/have_innodb.inc
-- connection mysqld_b
-- source include/have_innodb.inc
-- connection mysqld_c
-- source include/have_innodb.inc
-- connection mysqld_a

-- echo ####  Chained replication: A -> B -> C ####

--echo #################################################################
--echo # CASE 1: InnoDB - A, MyISAM - B,C
--echo #################################################################

let $mysqld_a_engine= InnoDB;
let $mysqld_b_engine= MyISAM;
let $mysqld_c_engine= MyISAM;

-- source extra/rpl_tests/rpl_row_img.test

--echo #################################################################
--echo # CASE 2: InnoDB - A,B,C
--echo #################################################################

let $mysqld_a_engine= InnoDB;
let $mysqld_b_engine= InnoDB;
let $mysqld_c_engine= InnoDB;

-- source extra/rpl_tests/rpl_row_img.test

--echo #################################################################
--echo # CASE 3: MyISAM - A, InnoDB - B,C
--echo #################################################################

let $mysqld_a_engine= MyISAM;
let $mysqld_b_engine= InnoDB;
let $mysqld_c_engine= InnoDB;

-- source extra/rpl_tests/rpl_row_img.test

--echo #################################################################
--echo # CASE 4: MyISAM - A,C, InnoDB - B
--echo #################################################################

let $mysqld_a_engine= MyISAM;
let $mysqld_b_engine= InnoDB;
let $mysqld_c_engine= MyISAM;

-- source extra/rpl_tests/rpl_row_img.test

--echo #################################################################
--echo # CASE 5: MyISAM - B, InnoDB - A,C
--echo #################################################################

let $mysqld_a_engine= InnoDB;
let $mysqld_b_engine= MyISAM;
let $mysqld_c_engine= InnoDB;

-- source extra/rpl_tests/rpl_row_img.test

--echo #################################################################
--echo # CASE 6: InnoDB - C, MyISAM - A,B
--echo #################################################################

let $mysqld_a_engine= MyISAM;
let $mysqld_b_engine= MyISAM;
let $mysqld_c_engine= InnoDB;

-- source extra/rpl_tests/rpl_row_img.test

--echo #################################################################
--echo # CASE 7: InnoDB - A,C MyISAM - C
--echo #################################################################

let $mysqld_a_engine= InnoDB;
let $mysqld_b_engine= InnoDB;
let $mysqld_c_engine= MyISAM;

-- source extra/rpl_tests/rpl_row_img.test


exit;
