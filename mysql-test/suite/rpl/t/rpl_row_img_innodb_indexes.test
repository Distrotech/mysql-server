#
# Test Description
# ================
#  
#   See WL#5096.
#
-- source suite/rpl/include/rpl_chained_3_hosts.inc
-- source include/have_binlog_format_row.inc
-- connection mysqld_a
-- source include/have_innodb.inc
-- connection mysqld_b
-- source include/have_innodb.inc
-- connection mysqld_c
-- source include/have_innodb.inc
-- connection mysqld_a

-- echo ####  Chained replication: A -> B -> C ####

-- let $row_image_param= 'FULL'
-- source suite/rpl/include/rpl_row_img_set.inc

--echo #################################################################
--echo # CASE 1: InnoDB - A, MyISAM - B,C
--echo #################################################################

let $mysqld_a_engine= InnoDB;
let $mysqld_b_engine= MyISAM;
let $mysqld_c_engine= MyISAM;

-- source extra/rpl_tests/rpl_row_img_diff_indexes.test

--echo #################################################################
--echo # CASE 2: InnoDB - A,B,C
--echo #################################################################

let $mysqld_a_engine= InnoDB;
let $mysqld_b_engine= InnoDB;
let $mysqld_c_engine= InnoDB;

-- source extra/rpl_tests/rpl_row_img_diff_indexes.test

--echo #################################################################
--echo # CASE 3: MyISAM - A, InnoDB - B,C
--echo #################################################################

let $mysqld_a_engine= MyISAM;
let $mysqld_b_engine= InnoDB;
let $mysqld_c_engine= InnoDB;

-- source extra/rpl_tests/rpl_row_img_diff_indexes.test

--echo #################################################################
--echo # CASE 4: MyISAM - A,C, InnoDB - B
--echo #################################################################

let $mysqld_a_engine= MyISAM;
let $mysqld_b_engine= InnoDB;
let $mysqld_c_engine= MyISAM;

-- source extra/rpl_tests/rpl_row_img_diff_indexes.test

--echo #################################################################
--echo # CASE 5: MyISAM - B, InnoDB - A,C
--echo #################################################################

let $mysqld_a_engine= InnoDB;
let $mysqld_b_engine= MyISAM;
let $mysqld_c_engine= InnoDB;

-- source extra/rpl_tests/rpl_row_img_diff_indexes.test

--echo #################################################################
--echo # CASE 6: InnoDB - C, MyISAM - A,B
--echo #################################################################

let $mysqld_a_engine= MyISAM;
let $mysqld_b_engine= MyISAM;
let $mysqld_c_engine= InnoDB;

-- source extra/rpl_tests/rpl_row_img_diff_indexes.test

--echo #################################################################
--echo # CASE 7: InnoDB - A,C MyISAM - C
--echo #################################################################

let $mysqld_a_engine= InnoDB;
let $mysqld_b_engine= InnoDB;
let $mysqld_c_engine= MyISAM;

-- source extra/rpl_tests/rpl_row_img_diff_indexes.test

-- echo #### NOBLOB

-- let $row_image_param= 'NOBLOB'
-- source suite/rpl/include/rpl_row_img_set.inc

-- echo ####  Chained replication: A -> B -> C ####

--echo #################################################################
--echo # CASE 8: InnoDB - A, MyISAM - B,C
--echo #################################################################

let $mysqld_a_engine= InnoDB;
let $mysqld_b_engine= MyISAM;
let $mysqld_c_engine= MyISAM;

-- source extra/rpl_tests/rpl_row_img_diff_indexes.test

--echo #################################################################
--echo # CASE 9: InnoDB - A,B,C
--echo #################################################################

let $mysqld_a_engine= InnoDB;
let $mysqld_b_engine= InnoDB;
let $mysqld_c_engine= InnoDB;

-- source extra/rpl_tests/rpl_row_img_diff_indexes.test

--echo #################################################################
--echo # CASE 10: MyISAM - A, InnoDB - B,C
--echo #################################################################

let $mysqld_a_engine= MyISAM;
let $mysqld_b_engine= InnoDB;
let $mysqld_c_engine= InnoDB;

-- source extra/rpl_tests/rpl_row_img_diff_indexes.test

--echo #################################################################
--echo # CASE 11: MyISAM - A,C, InnoDB - B
--echo #################################################################

let $mysqld_a_engine= MyISAM;
let $mysqld_b_engine= InnoDB;
let $mysqld_c_engine= MyISAM;

-- source extra/rpl_tests/rpl_row_img_diff_indexes.test

--echo #################################################################
--echo # CASE 12: MyISAM - B, InnoDB - A,C
--echo #################################################################

let $mysqld_a_engine= InnoDB;
let $mysqld_b_engine= MyISAM;
let $mysqld_c_engine= InnoDB;

-- source extra/rpl_tests/rpl_row_img_diff_indexes.test

--echo #################################################################
--echo # CASE 13: InnoDB - C, MyISAM - A,B
--echo #################################################################

let $mysqld_a_engine= MyISAM;
let $mysqld_b_engine= MyISAM;
let $mysqld_c_engine= InnoDB;

-- source extra/rpl_tests/rpl_row_img_diff_indexes.test

--echo #################################################################
--echo # CASE 14: InnoDB - A,C MyISAM - C
--echo #################################################################

let $mysqld_a_engine= InnoDB;
let $mysqld_b_engine= InnoDB;
let $mysqld_c_engine= MyISAM;

-- source extra/rpl_tests/rpl_row_img_diff_indexes.test

-- echo #### MINIMAL

-- let $row_image_param= 'MINIMAL'
-- source suite/rpl/include/rpl_row_img_set.inc

--echo #################################################################
--echo # CASE 15: InnoDB - A, MyISAM - B,C
--echo #################################################################

let $mysqld_a_engine= InnoDB;
let $mysqld_b_engine= MyISAM;
let $mysqld_c_engine= MyISAM;

-- source extra/rpl_tests/rpl_row_img_diff_indexes.test

--echo #################################################################
--echo # CASE 16: InnoDB - A,B,C
--echo #################################################################

let $mysqld_a_engine= InnoDB;
let $mysqld_b_engine= InnoDB;
let $mysqld_c_engine= InnoDB;

-- source extra/rpl_tests/rpl_row_img_diff_indexes.test

--echo #################################################################
--echo # CASE 17: MyISAM - A, InnoDB - B,C
--echo #################################################################

let $mysqld_a_engine= MyISAM;
let $mysqld_b_engine= InnoDB;
let $mysqld_c_engine= InnoDB;

-- source extra/rpl_tests/rpl_row_img_diff_indexes.test

--echo #################################################################
--echo # CASE 18: MyISAM - A,C, InnoDB - B
--echo #################################################################

let $mysqld_a_engine= MyISAM;
let $mysqld_b_engine= InnoDB;
let $mysqld_c_engine= MyISAM;

-- source extra/rpl_tests/rpl_row_img_diff_indexes.test

--echo #################################################################
--echo # CASE 19: MyISAM - B, InnoDB - A,C
--echo #################################################################

let $mysqld_a_engine= InnoDB;
let $mysqld_b_engine= MyISAM;
let $mysqld_c_engine= InnoDB;

-- source extra/rpl_tests/rpl_row_img_diff_indexes.test

--echo #################################################################
--echo # CASE 20: InnoDB - C, MyISAM - A,B
--echo #################################################################

let $mysqld_a_engine= MyISAM;
let $mysqld_b_engine= MyISAM;
let $mysqld_c_engine= InnoDB;

-- source extra/rpl_tests/rpl_row_img_diff_indexes.test

--echo #################################################################
--echo # CASE 21: InnoDB - A,C MyISAM - C
--echo #################################################################

let $mysqld_a_engine= InnoDB;
let $mysqld_b_engine= InnoDB;
let $mysqld_c_engine= MyISAM;

-- source extra/rpl_tests/rpl_row_img_diff_indexes.test

-- let $row_image_param= 'FULL'
-- source suite/rpl/include/rpl_row_img_set.inc

